<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title></title>
    <link href="./Styles/Site.css" rel="stylesheet" type="text/css" />
    <link href="./Styles/Site_mobile.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="./Images/GreenFeetIcon.png">
    
</head>
<body>
    <form>
    <div class="page">
        <div class="header">
            <div class="title">
                <h1>
                    <a href="index.html"><img src="./Images/Logo400.jpg" alt="Christian Steps Ministries Default Logo" size=10%/></a>
                </h1>
            </div>

            <div class="clear hideSkiplink">
                <div id="siteHeader"></div>
            </div>
        </div>
        <div class="main">
            <main id="pageContent">
<h2>
        Welcome to Christian Steps Ministries
    </h2>
     <p>We are sorry, but it appears there was an error that redirected you to this page. Please use the navigation at the top of the screen to continue viewing the content of Christian Steps Ministries website.</p>
</main>
        </div>
        <div class="clear">
        </div>
    </div>
    <div class="footer">
        
    </div>
    </form>

<script>
  fetch('./header.html', { cache: 'no-store' })
    .then(r => r.text())
    .then(h => {
      const host = document.getElementById('siteHeader');
      if (!host) return;
      host.innerHTML = h;

      const menu = host.querySelector('div.menu');
      const nav = host.querySelector('div.menu ul.nav');
      if (!menu || !nav) return;

      // Use existing button if present (from header.html), otherwise create one
      let btn = menu.querySelector('.nav-toggle');
      if (!btn) {
        btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'nav-toggle';
        btn.setAttribute('aria-label', 'Toggle Menu');
        btn.setAttribute('aria-expanded', 'false');
        btn.textContent = '☰ Menu';
        menu.insertBefore(btn, menu.firstChild);
      }

      // Avoid double-binding if header is reloaded
      if (btn.dataset.bound === 'true') return;
      btn.dataset.bound = 'true';

      const toggleMenu = (e) => {
        if (e) {
          e.preventDefault();
          e.stopPropagation();
        }
        const isOpen = nav.classList.toggle('open');
        btn.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      };

      // Desktop + mobile
      btn.addEventListener('click', toggleMenu);
      btn.addEventListener('touchstart', toggleMenu, { passive: false });

      // Close when a link is tapped
      nav.addEventListener('click', (e) => {
        const a = e.target.closest('a');
        if (!a) return;
        nav.classList.remove('open');
        btn.setAttribute('aria-expanded', 'false');
      });

      // Close when tapping outside the menu area
      document.addEventListener('click', () => {
        nav.classList.remove('open');
        btn.setAttribute('aria-expanded', 'false');
      });
    })
    .catch(() => {});
</script>

</body>
</html>
