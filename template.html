<!doctype html>
<html lang="en">
<head>
  <!-- =====================================================
       Page metadata
       ===================================================== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- TODO: Change the title for this page -->
  <title>Page Title | Christian Steps Ministries</title>

  <!-- TODO: Update the description for this page -->
  <meta name="description" content="Description of this page for search engines." />

  <!-- =====================================================
       Global site styles and favicon
       ===================================================== -->
  <link href="./Styles/Site.css" rel="stylesheet" />
  <link href="./Styles/Site_mobile.css" rel="stylesheet" />
  <link rel="icon" type="image/png" href="./Images/GreenFeetIcon.png" />
</head>

<body>
  <!-- =====================================================
       Accessibility: skip link
       ===================================================== -->
  <a class="skip-link" href="#pageContent">Skip to content</a>

  <div class="page">

    <!-- =====================================================
         Header / Navigation (loaded dynamically)
         ===================================================== -->
    <header class="header" role="banner">
      <div class="title">
        <h1>
          <a href="./index.html">
            <img src="./Images/Logo400.jpg"
                 class="site-logo"
                 alt="Christian Steps Ministries"
                 width="400" />
          </a>
        </h1>
      </div>

      <!-- Header menu will be injected here -->
      <div class="clear hideSkiplink">
        <div id="siteHeader"></div>
      </div>
    </header>

    <!-- =====================================================
         Main content area
         ===================================================== -->
    <div class="main">
      <main id="pageContent" role="main">

        <!-- =================================================
             HERO SECTION (optional)
             Uncomment and customize if needed
             =================================================
        <section class="home-hero">
          <div class="home-hero-inner">
            <div class="home-hero-copy">
              <h2>Page Heading</h2>
              <p class="home-hero-sub">
                Short introduction or summary for this page.
              </p>

              <div class="home-cta">
                <a class="btn btn-primary" href="#">
                  Primary Action
                </a>
              </div>
            </div>
          </div>
        </section>
        -->

        <!-- =================================================
             PAGE CONTENT
             Add your page content below
             ================================================= -->
        <section class="home-section">
          <!-- TODO: Replace this placeholder content -->
          <article class="card" style="max-width: 980px; margin: 0 auto;">
            <h3>Page Content</h3>
            <p>
              This is a placeholder page using the site template.
              Replace this card with your own content.
            </p>
          </article>
        </section>

        <!-- =================================================
             Footer (loaded dynamically)
             ================================================= -->
        <div id="siteFooter"></div>

      </main>
    </div>
  </div>

  <!-- =====================================================
       Scripts
       ===================================================== -->
  <script>
    // Load header
    fetch('/header.html', { cache: 'no-store' })
    .then(r => r.text())
    .then(h => {
      const host = document.getElementById('siteHeader');
      if (!host) return;
      host.innerHTML = h;

      const menu = host.querySelector('div.menu');
      const nav = host.querySelector('div.menu ul.nav');
      if (!menu || !nav) return;

      // Use existing button if present (from header.html), otherwise create one
      let btn = menu.querySelector('.nav-toggle');
      if (!btn) {
        btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'nav-toggle';
        btn.setAttribute('aria-label', 'Toggle Menu');
        btn.setAttribute('aria-expanded', 'false');
        btn.textContent = 'â˜° Menu';
        menu.insertBefore(btn, menu.firstChild);
      }

      // Avoid double-binding if header is reloaded
      if (btn.dataset.bound === 'true') return;
      btn.dataset.bound = 'true';

      const toggleMenu = (e) => {
        if (e) {
          e.preventDefault();
          e.stopPropagation();
        }
        const isOpen = nav.classList.toggle('open');
        btn.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      };

      // Desktop + mobile
      btn.addEventListener('click', toggleMenu);
      btn.addEventListener('touchstart', toggleMenu, { passive: false });

      // Close when a link is tapped
      nav.addEventListener('click', (e) => {
        const a = e.target.closest('a');
        if (!a) return;
        nav.classList.remove('open');
        btn.setAttribute('aria-expanded', 'false');
      });

      // Close when tapping outside the menu area
      document.addEventListener('click', () => {
        nav.classList.remove('open');
        btn.setAttribute('aria-expanded', 'false');
      });
    })
    .catch(() => {});

    // Load footer
    fetch('/footer.html', { cache: 'no-store' })
      .then(r => r.text())
      .then(f => {
        const host = document.getElementById('siteFooter');
        if (host) host.innerHTML = f;
      })
      .catch(() => {});
  </script>

</body>
</html>
